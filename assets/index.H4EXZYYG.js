//__HEAD__
function Ui(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}var ht=Symbol.for("#__listeners__");var ee=class{static for(t){return new Proxy({},new this(t))}constructor(t){this.getter=t}get target(){return this.getter()}get(t,e){return this.target[e]}set(t,e,i){return this.target[e]=i,!0}},Li=ee;(()=>{Ui(ee,"LazyProxy")})();function ut(r){let t=typeof r;if(t=="number")return r;if(t=="string"){if(/^\d+fps$/.test(r))return 1e3/parseFloat(r);if(/^([-+]?[\d\.]+)s$/.test(r))return parseFloat(r)*1e3;if(/^([-+]?[\d\.]+)ms$/.test(r))return parseFloat(r)}return null}function wt(r,t,e){if(!r)return;let i=Object.getOwnPropertyDescriptor(r,t);return i||r==e?i||void 0:wt(Reflect.getPrototypeOf(r),t,e)}var ji=function(r,t,e){let i,s,n;for(;(i=e)&&(e=e.next);)(s=e.listener)&&(e.path&&s[e.path]?n=t?s[e.path].apply(s,t):s[e.path]():n=t?s.apply(e,t):s.call(e)),e.times&&--e.times<=0&&(i.next=e.next,e.listener=null)};function Ot(r,t,e,i){let s,n,o;return s=r[ht]||(r[ht]={}),n=s[t]||(s[t]={}),o=n.tail||(n.tail=n.next={}),o.listener=e,o.path=i,n.tail=o.next={},o}function G(r,t,e){let i=Ot(r,t,e);return i.times=1,i}function te(r,t,e,i){if(!e)return;let s,n,o=r[ht];if(!!o&&(s=o[t])){for(;(n=s)&&(s=s.next);)if(s==e||s.listener==e){n.next=s.next,s.listener=null;break}}}function U(r,t,e){let i;(i=r[ht])&&(i[t]&&ji(t,e,i[t]),i.all&&ji(t,[t,e],i.all))}var ie=class{emit(t,...e){return U(this,t,e)}on(t,...e){return Ot(this,t,...e)}once(t,...e){return G(this,t,...e)}un(t,...e){return te(this,t,...e)}},Hi=ie;(()=>{Ui(ie,"Emitter")})();function Ki(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function qs(r){let t;return r&&((t=r.toIterable)?t.call(r):r)}var qi=Symbol.for("#__init__"),Bs=Symbol.for("#__patch__");var Bi=Symbol.for("#schedule"),re=Symbol.for("#frames"),Et=Symbol.for("#interval"),Q=Symbol.for("#stage"),z=Symbol.for("#scheduled"),Ft=Symbol.for("#version"),Ws=Symbol.for("#fps"),Wi=Symbol.for("#ticker"),Ks=globalThis.requestAnimationFrame||function(r){return globalThis.setTimeout(r,1e3/60)};var To=1/60,oe=class{[Bs](t={},e=!0){var i;(i=t.owner)!==void 0&&(this.owner=i),(i=t.target)!==void 0&&(this.target=i),(i=t.active)!==void 0&&(this.active=i),(i=t.value)!==void 0&&(this.value=i),(i=t.skip)!==void 0&&(this.skip=i),(i=t.last)!==void 0&&(this.last=i)}constructor(t=null){this[qi](t)}[qi](t=null,e=!0,i=!0){var s;this.owner=t&&(s=t.owner)!==void 0?s:null,this.target=t&&(s=t.target)!==void 0?s:null,this.active=t&&(s=t.active)!==void 0?s:!1,this.value=t&&(s=t.value)!==void 0?s:void 0,this.skip=t&&(s=t.skip)!==void 0?s:0,this.last=t&&(s=t.last)!==void 0?s:0}tick(t,e){return this.last=this.owner[re],this.target.tick(this,e),1}update(t,e){let i=this.active,s=t.value;return this.value!=s&&(this.deactivate(),this.value=s),(this.value||i||e)&&this.activate(),this}queue(){this.owner.add(this)}activate(){return this.value===!0?this.owner.on("commit",this):this.value===!1||typeof this.value=="number"&&(this.value/16.666666666666668<=2?this.owner.on("raf",this):this[Et]=globalThis.setInterval(this.queue.bind(this),this.value)),this.active=!0,this}deactivate(){return this.value===!0&&this.owner.un("commit",this),this.owner.un("raf",this),this[Et]&&(globalThis.clearInterval(this[Et]),this[Et]=null),this.active=!1,this}},se=oe;(()=>{Ki(oe,"Scheduled")})();var le=class{constructor(){var t=this;this.id=Symbol(),this.queue=[],this.stage=-1,this[Q]=-1,this[re]=0,this[z]=!1,this[Ft]=0,this.listeners={},this.intervals={},this.commit=function(){return t.add("commit"),t},this[Ws]=0,this.$promise=null,this.$resolve=null,this[Wi]=function(e){return t[z]=!1,t.tick(e)}}touch(){return this[Ft]++}get version(){return this[Ft]}add(t,e){return(e||this.queue.indexOf(t)==-1)&&this.queue.push(t),this[z]||this[Bi](),this}get committingΦ(){return this.queue.indexOf("commit")>=0}get syncingΦ(){return this[Q]==1}listen(t,e){let i=this.listeners[t],s=!i;return i||(i=this.listeners[t]=new Set),i.add(e),t=="raf"&&s&&this.add("raf"),this}unlisten(t,e){var i;let s=this.listeners[t];return s&&s.delete(e),t=="raf"&&s&&s.size==0&&(i=this.listeners.raf,delete this.listeners.raf),this}on(t,e){return this.listen(t,e)}un(t,e){return this.unlisten(t,e)}get promise(){var t=this;return this.$promise||(this.$promise=new Promise(function(e){return t.$resolve=e}))}tick(t){var e=this;let i=this.queue,s=this[re]++;if(this.ts||(this.ts=t),this.dt=t-this.ts,this.ts=t,this.queue=[],this[Q]=1,this[Ft]++,i.length)for(let n=0,o=qs(i),l=o.length;n<l;n++){let h=o[n];typeof h=="string"&&this.listeners[h]?this.listeners[h].forEach(function(f){if(f.tick instanceof Function)return f.tick(e,h);if(f instanceof Function)return f(e,h)}):h instanceof Function?h(this.dt,this):h.tick&&h.tick(this.dt,this)}return this[Q]=this[z]?0:-1,this.$promise&&(this.$resolve(this),this.$promise=this.$resolve=null),this.listeners.raf&&this.add("raf"),this}[Bi](){return this[z]||(this[z]=!0,this[Q]==-1&&(this[Q]=0),Ks(this[Wi])),this}schedule(t,e){var s,n;return e||(e=t[s=this.id]||(t[s]={value:!0})),(e[n=this.id]||(e[n]=new se({owner:this,target:t}))).update(e,!0)}unschedule(t,e={}){e||(e=t[this.id]);let i=e&&e[this.id];return i&&i.active&&i.deactivate(),this}},ne=le;(()=>{Ki(le,"Scheduler")})();var v=new ne;function k(){return v.add("commit").promise}function Gs(r,t){return globalThis.setTimeout(function(){r(),k()},t)}function Qs(r,t){return globalThis.setInterval(function(){r(),k()},t)}var zs=globalThis.clearInterval,Ys=globalThis.clearTimeout,at=globalThis.imba||(globalThis.imba={});at.commit=k;at.setTimeout=Gs;at.setInterval=Qs;at.clearInterval=zs;at.clearTimeout=Ys;function Xs(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}var Gi=Symbol.for("#toStringDeopt");var Qi=Symbol.for("#symbols"),zi=Symbol.for("#batches"),Yi=Symbol.for("#extras"),he=Symbol.for("#stacks"),ue=class{constructor(t){this.dom=t,this.string=""}contains(t){return this.dom.classList.contains(t)}add(t){return this.contains(t)?this:(this.string+=(this.string?" ":"")+t,this.dom.classList.add(t),this)}remove(t){if(!this.contains(t))return this;let e=new RegExp("(^|\\s)"+t+"(?=\\s|$)","g");return this.string=this.string.replace(e,""),this.dom.classList.remove(t),this}toggle(t,e){return e===void 0&&(e=!this.contains(t)),e?this.add(t):this.remove(t)}incr(t,e=0){var i=this;let s=this.stacks,n=s[t]||0;return n<1&&this.add(t),e>0&&setTimeout(function(){return i.decr(t)},e),s[t]=Math.max(n,0)+1}decr(t){let e=this.stacks,i=e[t]||0;return i==1&&this.remove(t),e[t]=Math.max(i,1)-1}reconcile(t,e){let i=this[Qi],s=this[zi],n=!0;if(!i)i=this[Qi]=[t],s=this[zi]=[e||""],this.toString=this.valueOf=this[Gi];else{let o=i.indexOf(t),l=e||"";o==-1?(i.push(t),s.push(l)):s[o]!=l?s[o]=l:n=!1}n&&(this[Yi]=" "+s.join(" "),this.sync())}valueOf(){return this.string}toString(){return this.string}[Gi](){return this.string+(this[Yi]||"")}sync(){return this.dom.flagSync$()}get stacks(){return this[he]||(this[he]={})}},Y=ue;(()=>{Xs(ue,"Flags")})();function ir(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function Js(r){var t,e;(e=(t=Object.getPrototypeOf(r.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,r)}var Xi=Symbol.for("#__init__"),Zs=Symbol.for("#__patch__"),Ji=Symbol.for("#__initor__"),Zi=Symbol.for("#__inited__"),tr=Symbol.for("#__hooks__"),ae=Symbol.for("#getRenderContext"),tn=Symbol.for("#getDynamicContext"),er=Symbol(),O={context:null},ce=class{[Zs](t={},e=!0){var i;(i=t.stack)!==void 0&&(this.stack=i)}constructor(t=null){this[Xi](t)}[Xi](t=null,e=!0,i=!0){var s;this.stack=t&&(s=t.stack)!==void 0?s:[]}push(t){return this.stack.push(t)}pop(t){return this.stack.pop()}},fe=ce;(()=>{ir(ce,"Renderer")})();var Po=new fe,X=class extends Map{constructor(t,e=null){super(),this._=t,this.sym=e,this[Ji]===er&&(this[tr]&&this[tr].inited(this),this[Zi]&&this[Zi]())}pop(){return O.context=null}[ae](t){let e=this.get(t);return e||this.set(t,e=new X(this._,t)),O.context=e}[tn](t,e){return this[ae](t)[ae](e)}run(t){return this.value=t,O.context==this&&(O.context=null),this.get(t)}cache(t){return this.set(this.value,t),t}},I=X;(()=>{X.prototype[Ji]=er,ir(X,"RenderContext"),Js(X)})();function rr(r,t=Symbol(),e=r){return O.context=r[t]||(r[t]=new I(e,t))}function sr(){let r=O.context,t=r||new I(null);return r&&(O.context=null),t}function Z(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function pt(r,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,r.extend__ instanceof Function?r.extend__(e,t):Object.defineProperties(r,e),r}function en(r){var t,e;(e=(t=Object.getPrototypeOf(r.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,r)}function rn(r){let t;return r&&((t=r.toIterable)?t.call(r):r)}var mt=Symbol.for("#parent"),nr=Symbol.for("#closestNode"),sn=Symbol.for("#parentNode"),nn=Symbol.for("#context"),$r=Symbol.for("#__init__"),_r=Symbol.for("##inited"),de=Symbol.for("#getRenderContext"),on=Symbol.for("#getDynamicContext"),or=Symbol.for("#insertChild"),be=Symbol.for("#appendChild"),me=Symbol.for("#replaceChild"),lr=Symbol.for("#removeChild"),D=Symbol.for("#insertInto"),hr=Symbol.for("#insertIntoDeopt"),ft=Symbol.for("#removeFrom"),ur=Symbol.for("#removeFromDeopt"),J=Symbol.for("#replaceWith"),ar=Symbol.for("#replaceWithDeopt"),pe=Symbol.for("#placeholderNode"),ln=Symbol.for("#attachToParent"),hn=Symbol.for("#detachFromParent"),un=Symbol.for("#placeChild"),an=Symbol.for("#beforeReconcile"),fn=Symbol.for("#afterReconcile"),cn=Symbol.for("#afterVisit"),dn=Symbol.for("#visitContext"),br=Symbol.for("##parent"),Pt=Symbol.for("##up"),$e=Symbol.for("##context"),q=Symbol.for("#domNode"),ct=Symbol.for("##placeholderNode"),fr=Symbol.for("#domDeopt"),dt=Symbol.for("##visitContext"),mn=Symbol.for("#isRichElement"),cr=Symbol.for("#src"),kt=Symbol.for("#htmlNodeName"),pn=Symbol.for("#getSlot");var dr=Symbol.for("#cssns"),$n=Symbol.for("#cssid"),{Event:B,UIEvent:Ao,MouseEvent:yr,PointerEvent:Lo,KeyboardEvent:gr,CustomEvent:$t,Node:W,Comment:Mt,Text:we,Element:N,HTMLElement:Oe,HTMLHtmlElement:jo,HTMLSelectElement:Sr,HTMLInputElement:xr,HTMLTextAreaElement:vr,HTMLButtonElement:Nr,HTMLOptionElement:Cr,HTMLScriptElement:Ho,SVGElement:Tr,DocumentFragment:Uo,ShadowRoot:qo,Document:_n,Window:Bo,customElements:Wo}=globalThis.window,_e={};function wr(r,t,e){if(!r)return e[t]=null;if(e[t]!==void 0)return e[t];let i=Object.getOwnPropertyDescriptor(r,t);return i!==void 0||r==Tr?e[t]=i||null:wr(Reflect.getPrototypeOf(r),t,e)}var ye={},ge={},bn={},yn={};var gn={get(r,t){let e=r,i;for(;e&&i==null;)(e=e[mt])&&(i=e[t]);return i},set(r,t,e){let i=r,s;for(;i&&s==null;){if(wt(i,t,N))return i[t]=e,!0;i=i[mt]}return!0}},Fe=class{get flags(){return this.documentElement.flags}},Se=Fe;(()=>{Z(Fe,"Document")})();pt(_n.prototype,Se.prototype);var Pe=class{get[mt](){return this[br]||this.parentNode||this[Pt]}get[nr](){return this}get[sn](){return this[mt][nr]}get[nn](){return this[$e]||(this[$e]=new Proxy(this,gn))}[$r](){return this}[_r](){return this}[de](t){return rr(this,t)}[on](t,e){return this[de](t)[de](e)}[or](t,e){return t[D](this,e)}[be](t){return t[D](this,null)}[me](t,e){let i=this[or](t,e);return this[lr](e),i}[lr](t){return t[ft](this)}[D](t,e=null){return e?t.insertBefore(this,e):t.appendChild(this),this}[hr](t,e){return e?t.insertBefore(this[q]||this,e):t.appendChild(this[q]||this),this}[ft](t){return t.removeChild(this)}[ur](t){return t.removeChild(this[q]||this)}[J](t,e){return e[me](t,this)}[ar](t,e){return e[me](t,this[q]||this)}get[pe](){return this[ct]||(this[ct]=globalThis.document.createComment("placeholder"))}set[pe](t){let e=this[ct];this[ct]=t,e&&e!=t&&e.parentNode&&e[J](t)}[ln](){let t=this[q],e=t&&t.parentNode;return t&&e&&t!=this&&(this[q]=null,this[D](e,t),t[ft](e)),this}[hn](){this[fr]!=!0&&(this[fr]=!0,!0)&&(this[J]=this[ar],this[ft]=this[ur],this[D]=this[hr],this[Pt]||(this[Pt]=this[mt]));let t=this[pe];return this.parentNode&&t!=this&&(t[D](this.parentNode,this),this[ft](this.parentNode)),this[q]=t,this}[un](t,e,i){let s=typeof t;if(s==="undefined"||t===null){if(i&&i instanceof Mt)return i;let n=globalThis.document.createComment("");return i?i[J](n,this):n[D](this,null)}if(t===i)return t;if(s!=="object"){let n,o=t;return e&128&&e&256,i?i instanceof we?(i.textContent=o,i):(n=globalThis.document.createTextNode(o),i[J](n,this),n):(this.appendChild(n=globalThis.document.createTextNode(o)),n)}else return i?i[J](t,this):t[D](this,null)}},xe=Pe;(()=>{Z(Pe,"Node")})();pt(W.prototype,xe.prototype);var ke=class{log(...t){return console.log(...t)}emit(t,e,i={bubbles:!0,cancelable:!0}){e!=null&&(i.detail=e);let s=new $t(t,i),n=this.dispatchEvent(s);return s}text$(t){return this.textContent=t,this}[an](){return this}[fn](){return this}[cn](){this[dt]&&(this[dt]=null)}get[dn](){return this[dt]||(this[dt]={})}get flags(){return this.$flags||(this.$flags=new Y(this),this.flag$==N.prototype.flag$&&(this.flags$ext=this.className),this.flagDeopt$()),this.$flags}flag$(t){let e=this.flags$ns;this.className=e?e+(this.flags$ext=t):this.flags$ext=t}flagDeopt$(){var t=this;this.flag$=this.flagExt$,this.flagSelf$=function(e){return t.flagSync$(t.flags$own=e)}}flagExt$(t){return this.flagSync$(this.flags$ext=t)}flagSelf$(t){return this.flagDeopt$(),this.flagSelf$(t)}flagSync$(){return this.className=(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||"")}set$(t,e){let i=wt(this,t,N);!i||!i.set?this.setAttribute(t,e):this[t]=e}get richValue(){return this.value}set richValue(t){this.value=t}},ve=ke;(()=>{Z(ke,"Element")})();pt(N.prototype,ve.prototype);N.prototype.setns$=N.prototype.setAttributeNS;N.prototype[mn]=!0;function b(r,t,e,i){let s=globalThis.document.createElement(r);return e&&(s.className=e),i!==null&&s.text$(i),t&&t[be]&&t[be](s),s}var Re=class{set$(t,e){var n;let i=_e[n=this.nodeName]||(_e[n]={}),s=wr(this,t,i);!s||!s.set?this.setAttribute(t,e):this[t]=e}flag$(t){let e=this.flags$ns;this.setAttribute("class",e?e+(this.flags$ext=t):this.flags$ext=t)}flagSelf$(t){var e=this;return this.flag$=function(i){return e.flagSync$(e.flags$ext=i)},this.flagSelf$=function(i){return e.flagSync$(e.flags$own=i)},this.flagSelf$(t)}flagSync$(){return this.setAttribute("class",(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||""))}},Ne=Re;(()=>{Z(Re,"SVGElement")})();pt(Tr.prototype,Ne.prototype);var Ie=class{set src(t){if(this[cr]!=t&&(this[cr]=t,!0)){if(t&&t.adoptNode)t.adoptNode(this);else if(t&&t.type=="svg"){if(t.attributes)for(let e=t.attributes,i=0,s=Object.keys(e),n=s.length,o,l;i<n;i++)o=s[i],l=e[o],this.setAttribute(o,l);this.innerHTML=t.content}}}},Ce=Ie;(()=>{Z(Ie,"SVGSVGElement")})();pt(SVGSVGElement.prototype,Ce.prototype);function _t(r){return globalThis.document.createComment(r)}function Ee(r){return globalThis.document.createTextNode(r)}var Rt=globalThis.navigator,Sn=Rt&&Rt.vendor||"",mr=Rt&&Rt.userAgent||"",xn=Sn.indexOf("Apple")>-1||mr.indexOf("CriOS")>=0||mr.indexOf("FxiOS")>=0,It=!xn,pr=new Map,Dt=class extends Oe{connectedCallback(){return It?this.parentNode.removeChild(this):this.parentNode.connectedCallback()}disconnectedCallback(){if(!It)return this.parentNode.disconnectedCallback()}},Te=Dt;(()=>{Z(Dt,"CustomHook"),en(Dt)})();window.customElements.define("i-hook",Te);function vn(r,t){let e=pr.get(t);if(!e){e={};let i=t.prototype,s=[i];for(;(i=i&&Object.getPrototypeOf(i))&&i.constructor!=r.constructor;)s.unshift(i);for(let n=0,o=rn(s),l=o.length;n<l;n++){let h=o[n],f=Object.getOwnPropertyDescriptors(h);Object.assign(e,f)}pr.set(t,e)}return e}function tt(r,t,e,i,s){let n;typeof r!="string"&&r&&r.nodeName&&(r=r.nodeName);let o=ge[r]||r;if(ye[r]){let l=ye[r],h=l.prototype[kt];if(h&&It)n=globalThis.document.createElement(h,{is:o});else if(l.create$&&h){n=globalThis.document.createElement(h),n.setAttribute("is",o);let f=vn(n,l);Object.defineProperties(n,f),n.__slots={},n.appendChild(globalThis.document.createElement("i-hook"))}else l.create$?(n=l.create$(n),n.__slots={}):console.warn("could not create tag "+r)}else n=globalThis.document.createElement(ge[r]||r);return n[br]=t,n[$r](),n[_r](),i!==null&&n[pn]("__").text$(i),(e||n.flags$ns)&&n.flag$(e||""),n}function M(r,t,e={}){bn[r]=yn[r]=t,t.nodeName=r;let i=r,s=t.prototype;if(r.indexOf("-")==-1&&(i=""+r+"-tag",ge[r]=i),e.cssns){let n=(s._ns_||s[dr]||"")+" "+(e.cssns||"");s._ns_=n.trim()+" ",s[dr]=e.cssns}if(e.cssid){let n=(s.flags$ns||"")+" "+e.cssid;s[$n]=e.cssid,s.flags$ns=n.trim()+" "}return s[kt]&&!e.extends&&(e.extends=s[kt]),e.extends?(s[kt]=e.extends,ye[r]=t,It&&window.customElements.define(i,t,{extends:e.extends})):window.customElements.define(i,t),t}var Nn=globalThis.imba||(globalThis.imba={});Nn.document=globalThis.document;function je(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function De(r){let t;return r&&((t=r.toIterable)?t.call(r):r)}function Cn(r){var t,e;(e=(t=Object.getPrototypeOf(r.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,r)}function Tn(r,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,r.extend__ instanceof Function?r.extend__(e,t):Object.defineProperties(r,e),r}var Ht=Symbol.for("#parent"),Or=Symbol.for("#closestNode"),wn=Symbol.for("#isRichElement"),On=Symbol.for("#afterVisit"),Er=Symbol.for("#__initor__"),Fr=Symbol.for("#__inited__"),Pr=Symbol.for("#__hooks__"),kr=Symbol.for("#appendChild"),Rr=Symbol.for("#removeChild"),Ir=Symbol.for("#replaceChild"),R=Symbol.for("#insertInto"),Vt=Symbol.for("#replaceWith"),Dr=Symbol.for("#insertChild"),At=Symbol.for("#removeFrom"),Mr=Symbol.for("#placeChild"),En=Symbol.for("#registerFunctionalSlot"),Fn=Symbol.for("#getFunctionalSlot"),Vr=Symbol.for("#getSlot"),Ve=Symbol.for("##parent"),V=Symbol.for("##up"),Me=Symbol.for("##flags"),Pn=Symbol.for("#domFlags"),E=Symbol.for("#end"),Ar=Symbol.for("#textContent"),Lt=Symbol.for("#textNode"),jt=Symbol.for("#functionalSlots"),Lr=Symbol();var He=class{constructor(){this.childNodes=[]}log(...t){}hasChildNodes(){return!1}set[Ht](t){this[Ve]=t}get[Ht](){return this[Ve]||this[V]}get[Or](){return this[Ht][Or]}get[wn](){return!0}get flags(){return this[Me]||(this[Me]=new Y(this))}flagSync$(){return this}[On](){return this}},et=He;(()=>{je(He,"Fragment")})();var kn=0,bt=class extends et{constructor(t,e){super(...arguments),this[V]=e,this.parentNode=null,this[Pn]=t,this.childNodes=[],this[E]=_t("slot"+kn++),e&&e[kr](this),this[Er]===Lr&&(this[Pr]&&this[Pr].inited(this),this[Fr]&&this[Fr]())}get[Ht](){return this[Ve]||this.parentNode||this[V]}set textContent(t){this[Ar]=t}get textContent(){return this[Ar]}hasChildNodes(){for(let t=0,e=De(this.childNodes),i=e.length;t<i;t++){let s=e[t];if(s instanceof et&&s.hasChildNodes())return!0;if(!(s instanceof Mt)){if(s instanceof W)return!0}}return!1}text$(t){return this[Lt]?this[Lt].textContent=t:this[Lt]=this[Mr](t),this[Lt]}appendChild(t){return this.parentNode&&t[R](this.parentNode,this[E]),this.childNodes.push(t)}[kr](t){var e;return this.parentNode?t[R](this.parentNode,this[E]):(e=t[V])!=null||(t[V]=this[V]||this),this.childNodes.push(t)}insertBefore(t,e){this.parentNode&&this.parentNode[Dr](t,e);let i=this.childNodes.indexOf(e);return i>=0&&this.childNodes.splice(i,0,t),t}[Rr](t){this.parentNode&&this.parentNode[Rr](t);let e=this.childNodes.indexOf(t);e>=0&&this.childNodes.splice(e,1)}[Ir](t,e){this.parentNode&&this.parentNode[Ir](t,e);let i=this.childNodes.indexOf(e);return this.childNodes[i]=t,t}[R](t,e){let i=this.parentNode;if(this.parentNode!=t&&(this.parentNode=t,!0)){this[E]&&(e=this[E][R](t,e));for(let s=0,n=De(this.childNodes),o=n.length;s<o;s++)n[s][R](t,e)}return this}[Vt](t,e){let i=t[R](e,this[E]);return this[At](e),i}[Dr](t,e){if(this.parentNode&&this.insertBefore(t,e||this[E]),e){let i=this.childNodes.indexOf(e);i>=0&&this.childNodes.splice(i,0,t)}else this.childNodes.push(t);return t}[At](t){for(let e=0,i=De(this.childNodes),s=i.length;e<s;e++)i[e][At](t);return this[E]&&this[E][At](t),this.parentNode=null,this}[Mr](t,e,i){let s=this.parentNode,n=typeof t;if(n==="undefined"||t===null){if(i&&i instanceof Mt)return i;let o=_t("");if(i){let l=this.childNodes.indexOf(i);return this.childNodes.splice(l,1,o),s&&i[Vt](o,s),o}return this.childNodes.push(o),s&&o[R](s,this[E]),o}if(t===i)return t;if(n!=="object"){let o,l=t;if(i){if(i instanceof we)return i.textContent=l,i;{o=Ee(l);let h=this.childNodes.indexOf(i);return this.childNodes.splice(h,1,o),s&&i[Vt](o,s),o}}else return this.childNodes.push(o=Ee(l)),s&&o[R](s,this[E]),o}else if(i){let o=this.childNodes.indexOf(i);return this.childNodes.splice(o,1,t),s&&i[Vt](t,s),t}else return this.childNodes.push(t),s&&t[R](s,this[E]),t}},Ae=bt;(()=>{bt.prototype[Er]=Lr,je(bt,"VirtualFragment"),Cn(bt)})();function jr(r,t){let e=new Ae(r,null);return e[V]=t,e}var Ue=class{[En](t){let e=this[jt]||(this[jt]={});return e[t]||(e[t]=jr(0,this))}[Fn](t,e){let i=this[jt];return i&&i[t]||this[Vr](t,e)}[Vr](t,e){var i;return t=="__"&&!this.render||!this.__slots?this:(i=this.__slots)[t]||(i[t]=jr(0,this))}},Le=Ue;(()=>{je(Ue,"Node")})();Tn(W.prototype,Le.prototype);function Hr(r){let t;return r&&((t=r.toIterable)?t.call(r):r)}function Rn(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function In(r){var t,e;(e=(t=Object.getPrototypeOf(r.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,r)}var qe=Symbol.for("#appendChild"),Ut=Symbol.for("#insertChild"),Dn=Symbol.for("#replaceWith"),qt=Symbol.for("#insertInto"),Be=Symbol.for("#removeFrom"),Mn=Symbol.for("#afterVisit"),Ur=Symbol.for("#__initor__"),qr=Symbol.for("#__inited__"),Br=Symbol.for("#__hooks__"),Bt=Symbol.for("#domFlags"),Wr=Symbol.for("##parent"),A=Symbol.for("#end"),Kr=Symbol.for("#removeChild"),Gr=Symbol(),yt=class extends et{constructor(t,e){super(...arguments),this[Bt]=t,this[Wr]=e,this.changes=new Map,this.dirty=!1,this.array=this.childNodes,this.$=new I(this,Symbol()),t&256||(this[A]=_t("map")),e&&e[qe](this),this[Ur]===Gr&&(this[Br]&&this[Br].inited(this),this[qr]&&this[qr]())}[qe](t){if(this.parentNode)return this.parentNode[Ut](t,this[A])}hasChildNodes(){return this.childNodes.length!=0}push(t,e){if(!(this[Bt]&1)){this.array.push(t),this[qe](t);return}let i=this.array[e];if(i!==t){this.dirty=!0;let s=this.array.indexOf(t),n=this.changes.get(t);s===-1?(this.array.splice(e,0,t),this.insertChild(t,e,s)):s===e+1?(i&&this.changes.set(i,-1),this.array.splice(e,1)):(s>=0&&this.array.splice(s,1),this.array.splice(e,0,t),this.moveChild(t,e,s)),n==-1&&this.changes.delete(t)}}insertChild(t,e,i){let s=this.parentNode;if(!!s)if(e>0){let n=this.array[e-1];s[Ut](t,n.nextSibling)}else s[Ut](t,this.childNodes[e+1]||this[A])}moveChild(t,e,i){return this.insertChild(t,e,i)}removeChild(t,e){t.parentNode&&t[Be](t.parentNode)}[Ut](t,e){}[Dn](t,e){let i=t[qt](e,this[A]);return this[Be](e),i}[qt](t,e){this[Wr]=t;let i=this.parentNode;if(t!=i){this.parentNode=t;for(let s=0,n=Hr(this.array),o=n.length;s<o;s++)n[s][qt](t,e);this[A]&&this[A][qt](t,e)}return this}[Be](t){for(let e=0,i=Hr(this.array),s=i.length;e<s;e++){let n=i[e];t[Kr](n)}return this[A]&&t[Kr](this[A]),this.parentNode=null}[Mn](t){var e=this;if(!(this[Bt]&1)){this[Bt]|=1;return}if(this.dirty&&(this.changes.forEach(function(i,s){if(i==-1)return e.removeChild(s)}),this.changes.clear(),this.dirty=!1),this.array.length>t)for(;this.array.length>t;){let i=this.array.pop();this.removeChild(i)}}},We=yt;(()=>{yt.prototype[Ur]=Gr,Rn(yt,"KeyedTagFragment"),In(yt)})();function Qr(r,t){return new We(r,t)}function Vn(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function An(r){var t,e;(e=(t=Object.getPrototypeOf(r.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,r)}var Kt=Symbol.for("#__init__"),Ln=Symbol.for("#__patch__"),jn=Symbol.for("##inited"),Hn=Symbol.for("#afterVisit"),Un=Symbol.for("#beforeReconcile"),qn=Symbol.for("#afterReconcile"),zr=Symbol.for("#__hooks__"),K=Symbol.for("#autorender"),Wt=Symbol.for("##visitContext"),Bn=new class{[Ln](r={},t=!0){var e;(e=r.items)!==void 0&&(this.items=e),(e=r.current)!==void 0&&(this.current=e),(e=r.lastQueued)!==void 0&&(this.lastQueued=e),(e=r.tests)!==void 0&&(this.tests=e)}constructor(r=null){this[Kt](r)}[Kt](r=null,t=!0,e=!0){var i;this.items=r&&(i=r.items)!==void 0?i:[],this.current=r&&(i=r.current)!==void 0?i:null,this.lastQueued=r&&(i=r.lastQueued)!==void 0?i:null,this.tests=r&&(i=r.tests)!==void 0?i:0}flush(){let r=null;for(;r=this.items.shift();){if(!r.parentNode||r.hydratedΦ)continue;let t=this.current;this.current=r,r.__F|=1024,r.connectedCallback(),this.current=t}}queue(r){var t=this;let e=this.items.length,i=0,s=this.lastQueued;this.lastQueued=r;let n=W.DOCUMENT_POSITION_PRECEDING,o=W.DOCUMENT_POSITION_FOLLOWING;if(e){let l=this.items.indexOf(s),h=l,f=function(u,d){return t.tests++,u.compareDocumentPosition(d)};(l==-1||s.nodeName!=r.nodeName)&&(h=l=0);let a=this.items[h];for(;a&&f(a,r)&o;)a=this.items[++h];if(h!=l)a?this.items.splice(h,0,r):this.items.push(r);else{for(;a&&f(a,r)&n;)a=this.items[--h];h!=l&&(a?this.items.splice(h+1,0,r):this.items.unshift(r))}}else this.items.push(r),this.current||globalThis.queueMicrotask(this.flush.bind(this))}};var Gt=class extends Oe{constructor(){super(),this.flags$ns&&(this.flag$=this.flagExt$),this.setup$(),this.build()}setup$(){return this.__slots={},this.__F=0}[Kt](){return this.__F|=3,this}[jn](){if(this[zr])return this[zr].inited(this)}flag$(t){this.className=this.flags$ext=t}build(){return this}awaken(){return this}mount(){return this}unmount(){return this}rendered(){return this}dehydrate(){return this}hydrate(){return this.autoschedule=!0,this}tick(){return this.commit()}visit(){return this.commit()}commit(){return this.renderΦ?(this.__F|=256,this.render&&this.render(),this.rendered(),this.__F=(this.__F|512)&-257&-8193):(this.__F|=8192,this)}get autoschedule(){return(this.__F&64)!=0}set autoschedule(t){t?this.__F|=64:this.__F&=-65}set autorender(t){let e=this[K]||(this[K]={});e.value=t,this.mountedΦ&&v.schedule(this,e)}get renderΦ(){return!this.suspendedΦ}get mountingΦ(){return(this.__F&16)!=0}get mountedΦ(){return(this.__F&32)!=0}get awakenedΦ(){return(this.__F&8)!=0}get renderedΦ(){return(this.__F&512)!=0}get suspendedΦ(){return(this.__F&4096)!=0}get renderingΦ(){return(this.__F&256)!=0}get scheduledΦ(){return(this.__F&128)!=0}get hydratedΦ(){return(this.__F&2)!=0}get ssrΦ(){return(this.__F&1024)!=0}schedule(){return v.on("commit",this),this.__F|=128,this}unschedule(){return v.un("commit",this),this.__F&=-129,this}async suspend(t=null){let e=this.flags.incr("@suspended");return this.__F|=4096,t instanceof Function&&(await t(),this.unsuspend()),this}unsuspend(){return this.flags.decr("@suspended")==0&&(this.__F&=-4097,this.commit()),this}[Hn](){if(this.visit(),this[Wt])return this[Wt]=null}[Un](){return this.__F&1024&&(this.__F=this.__F&-1025,this.classList.remove("_ssr_"),this.flags$ext&&this.flags$ext.indexOf("_ssr_")==0&&(this.flags$ext=this.flags$ext.slice(5)),this.__F&512||(this.innerHTML="")),this[Wt]&&(this[Wt]=null),this}[qn](){return this}connectedCallback(){let t=this.__F,e=t&1,i=t&8;if(!e&&!(t&1024)){Bn.queue(this);return}if(t&48)return;this.__F|=16,e||this[Kt](),t&2||(this.flags$ext=this.className,this.__F|=2,this.hydrate(),this.commit()),i||(this.awaken(),this.__F|=8),U(this,"mount");let s=this.mount();return s&&s.then instanceof Function&&s.then(v.commit),t=this.__F=(this.__F|32)&-17,t&64&&this.schedule(),this[K]&&v.schedule(this,this[K]),this}disconnectedCallback(){if(this.__F=this.__F&-49,this.__F&128&&this.unschedule(),U(this,"unmount"),this.unmount(),this[K])return v.unschedule(this,this[K])}},P=Gt;(()=>{Vn(Gt,"Component"),An(Gt)})();var Wn=Symbol.for("#insertInto"),Yr=Symbol.for("#removeFrom");function Ke(r,t){let e=t||globalThis.document.body,i=r;if(r instanceof Function){let s=new I(e,null),n=function(){let o=O.context;O.context=s;let l=r(s);return O.context==s&&(O.context=o),l};i=n(),v.listen("commit",n)}else i.__F|=64;return i[Wn](e),i}function Kn(r){return r&&r[Yr]&&r[Yr](r.parentNode),r}var Xr=globalThis.imba||(globalThis.imba={});Xr.mount=Ke;Xr.unmount=Kn;function it(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function rt(r,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,r.extend__ instanceof Function?r.extend__(e,t):Object.defineProperties(r,e),r}function gt(r){let t;return r&&((t=r.toIterable)?t.call(r):r)}var St=Symbol.for("##onchange"),vt=Symbol.for("#afterVisit"),xt=Symbol.for("##oninput"),Qt=Symbol.for("##onclick"),Nt=Symbol.for("##bound"),L=Symbol.for("##visitContext");function st(){return globalThis.imba.uses_dom_bind=!0,!0}var Gn={INPUT:!0,SELECT:!0,TEXTAREA:!0,BUTTON:!0},Ge=function(r){return r instanceof Array||r&&r.has instanceof Function},ti=function(r,t){return r==t?!0:r instanceof Array?r.indexOf(t)>=0:r&&r.has instanceof Function?r.has(t):r&&r.contains instanceof Function?r.contains(t):!1},ei=function(r,t){if(r instanceof Array)return r.push(t);if(r&&r.add instanceof Function)return r.add(t)},ii=function(r,t){if(r instanceof Array){let e=r.indexOf(t);if(e>=0)return r.splice(e,1)}else if(r&&r.delete instanceof Function)return r.delete(t)};function Qn(r){function t(){return r[0]?r[0][r[1]]:void 0}function e(i){return r[0]?r[0][r[1]]=i:null}return{get:t,set:e}}var ri=class{getRichValue(){return this.value}setRichValue(t){return this.value=t}bind$(t,e){let i=e||[];return t=="data"&&!this[Nt]&&Gn[this.nodeName]&&(this[Nt]=!0,this[St]&&this.addEventListener("change",this[St]=this[St].bind(this)),this[xt]&&this.addEventListener("input",this[xt]=this[xt].bind(this),{capture:!0}),this[Qt]&&this.addEventListener("click",this[Qt]=this[Qt].bind(this),{capture:!0})),Object.defineProperty(this,t,i instanceof Array?Qn(i):i),i}},Qe=ri;(()=>{it(ri,"Element")})();rt(N.prototype,Qe.prototype);Object.defineProperty(N.prototype,"richValue",{get:function(){return this.getRichValue()},set:function(r){return this.setRichValue(r)}});var si=class{[St](t){let e=this.data,i=this.$$value;this.$$value=void 0;let s=this.getRichValue();if(this.multiple){if(i)for(let n=0,o=gt(i),l=o.length;n<l;n++){let h=o[n];s.indexOf(h)==-1&&ii(e,h)}for(let n=0,o=gt(s),l=o.length;n<l;n++){let h=o[n];(!i||i.indexOf(h)==-1)&&ei(e,h)}}else this.data=s[0];return k(),this}getRichValue(){var t;if(this.$$value)return this.$$value;t=[];for(let e=0,i=gt(this.selectedOptions),s=i.length;e<s;e++){let n=i[e];t.push(n.richValue)}return this.$$value=t}syncValue(){let t=this.data;if(this.multiple){let e=[];for(let i=0,s=gt(this.options),n=s.length;i<n;i++){let o=s[i],l=o.richValue,h=ti(t,l);o.selected=h,h&&e.push(l)}this.$$value=e}else for(let e=0,i=gt(this.options),s=i.length;e<s;e++){let o=i[e].richValue;if(o==t){this.$$value=[o],this.selectedIndex=e;break}}}[vt](){if(this.syncValue(),this[L])return this[L]=null}},ze=si;(()=>{it(si,"HTMLSelectElement")})();rt(Sr.prototype,ze.prototype);var ni=class{setRichValue(t){return this.$$value=t,this.value=t}getRichValue(){return this.$$value!==void 0?this.$$value:this.value}},Ye=ni;(()=>{it(ni,"HTMLOptionElement")})();rt(Cr.prototype,Ye.prototype);var oi=class{setRichValue(t){return this.$$value=t,this.value=t}getRichValue(){return this.$$value!==void 0?this.$$value:this.value}[xt](t){return this.data=this.value,k()}[vt](){let t=this.data;if(t==null&&(t=""),this[Nt]&&this.value!=t&&(this.value=t),this[L])return this[L]=null}},Xe=oi;(()=>{it(oi,"HTMLTextAreaElement")})();rt(vr.prototype,Xe.prototype);var li=class{[xt](t){let e=this.type;if(!(e=="checkbox"||e=="radio")&&!(e=="number"&&Number.isNaN(this.valueAsNumber)))return this.$$value=void 0,this.data=this.richValue,k()}[St](t){let e=this.data,i=this.richValue;if(this.type=="checkbox"||this.type=="radio"){let s=this.checked;Ge(e)?s?ei(e,i):ii(e,i):this.data=s?i:!1}return k()}setRichValue(t){this.$$value!==t&&(this.$$value=t,this.value!==t&&(this.value=t))}getRichValue(){if(this.$$value!==void 0)return this.$$value;let t=this.value,e=this.type;if(e=="range"||e=="number"){let i=this.valueAsNumber;Number.isNaN(i)&&(i=Number(t.replace(/\,/,".")+0)),Number.isNaN(i)&&(i=null),t=i}else e=="checkbox"&&(t==null||t==="on")&&(t=!0);return t}[vt](){if(this[Nt]){let t=this.type;if(t=="checkbox"||t=="radio"){let e=this.data;e===!0||e===!1||e==null?this.checked=!!e:this.checked=ti(e,this.richValue)}else this.richValue=this.data}this[L]&&(this[L]=null)}},Je=li;(()=>{it(li,"HTMLInputElement")})();rt(xr.prototype,Je.prototype);var hi=class{get checked(){return this.$checked}set checked(t){t!=this.$checked&&(this.$checked=t,this.flags.toggle("checked",!!t))}setRichValue(t){return this.$$value=t,this.value=t}getRichValue(){return this.$$value!==void 0?this.$$value:this.value}[Qt](t){let e=this.data,i=this.checked,s=this.richValue;return Ge(e)?i?ii(e,s):ei(e,s):this.$$value==null?this.data=!i:this.data=i?null:s,this[vt](),k()}[vt](){if(this[Nt]){let t=this.data,e=this.$$value==null?!0:this.$$value;Ge(t)?this.checked=ti(t,e):this.checked=t==e}this[L]&&(this[L]=null)}},Ze=hi;(()=>{it(hi,"HTMLButtonElement")})();rt(Nr.prototype,Ze.prototype);function zn(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function Yn(r,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,r.extend__ instanceof Function?r.extend__(e,t):Object.defineProperties(r,e),r}function Jr(){return globalThis.imba.uses_events_keyboard=!0,!0}var ai=class{αesc(){return this.keyCode==27}αtab(){return this.keyCode==9}αenter(){return this.keyCode==13}αspace(){return this.keyCode==32}αup(){return this.keyCode==38}αdown(){return this.keyCode==40}αleft(){return this.keyCode==37}αright(){return this.keyCode==39}αdel(){return this.keyCode==8||this.keyCode==46}αkey(t){if(typeof t=="string")return this.key==t;if(typeof t=="number")return this.keyCode==t}},ui=ai;(()=>{zn(ai,"KeyboardEvent")})();Yn(gr.prototype,ui.prototype);function Xn(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function Jn(r,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,r.extend__ instanceof Function?r.extend__(e,t):Object.defineProperties(r,e),r}function nt(){return globalThis.imba.uses_events_mouse=!0,!0}var ci=class{αleft(){return this.button==0}αmiddle(){return this.button==1}αright(){return this.button==2}αshift(){return!!this.shiftKey}αalt(){return!!this.altKey}αctrl(){return!!this.ctrlKey}αmeta(){return!!this.metaKey}αmod(){let t=globalThis.navigator.platform;return/^(Mac|iPhone|iPad|iPod)/.test(t||"")?!!this.metaKey:!!this.ctrlKey}},fi=ci;(()=>{Xn(ci,"MouseEvent")})();Jn(yr.prototype,fi.prototype);function Yt(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}function yi(r,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,r.extend__ instanceof Function?r.extend__(e,t):Object.defineProperties(r,e),r}function di(r){let t;return r&&((t=r.toIterable)?t.call(r):r)}var Zn=Symbol.for("#extendType"),to=Symbol.for("#modifierState"),zt=Symbol.for("#sharedModifierState"),Zr=Symbol.for("#onceHandlerEnd");var mi=Symbol.for("#extendDescriptors"),C=Symbol.for("#context"),ts=Symbol.for("#self"),eo=Symbol.for("#target"),es=Symbol.for("#stopPropagation"),is=Symbol.for("#defaultPrevented"),io=Symbol.for("#teleport");Jr();nt();var gi=class{[Zn](t){var e,i;let s=t[mi]||(t[mi]=(e=Object.getOwnPropertyDescriptors(t.prototype),i=e.constructor,delete e.constructor,e));return Object.defineProperties(this,s)}},pi=gi;(()=>{Yt(gi,"CustomEvent")})();yi($t.prototype,pi.prototype);var Si=class{get[to](){var t,e;return(t=this[C])[e=this[C].step]||(t[e]={})}get[zt](){var t,e;return(t=this[C].handler)[e=this[C].step]||(t[e]={})}[Zr](t){return G(this[C],"end",t)}αsel(t){return!!this.target.matches(String(t))}αclosest(t){return!!this.target.closest(String(t))}αlog(...t){return console.info(...t),!0}αtrusted(){return!!this.isTrusted}αif(t){return!!t}αwait(t=250){return new Promise(function(e){return setTimeout(e,ut(t))})}αself(){return this.target==this[C].element}αcooldown(t=250){let e=this[zt];return e.active?!1:(e.active=!0,e.target=this[C].element,e.target.flags.incr("cooldown"),this[Zr](function(){return setTimeout(function(){return e.target.flags.decr("cooldown"),e.active=!1},ut(t))}),!0)}αthrottle(t=250){let e=this[zt];return e.active?(e.next&&e.next(!1),new Promise(function(i){return e.next=function(s){return e.next=null,i(s)}})):(e.active=!0,e.el||(e.el=this[C].element),e.el.flags.incr("throttled"),G(this[C],"end",function(){let i=ut(t);return e.interval=setInterval(function(){e.next?e.next(!0):(clearInterval(e.interval),e.el.flags.decr("throttled"),e.active=!1)},i)}),!0)}αdebounce(t=250){let e=this[zt],i=this;return e.queue||(e.queue=[]),e.queue.push(e.last=i),new Promise(function(s){return setTimeout(function(){return e.last==i?(i.debounced=e.queue,e.last=null,e.queue=[],s(!0)):s(!1)},ut(t))})}αflag(t,e){let{element:i,step:s,state:n,id:o,current:l}=this[C],h=e instanceof N?e:e?i.closest(e):i;if(!h)return!0;this[C].commit=!0,n[s]=o,h.flags.incr(t);let f=Date.now();return G(l,"end",function(){let a=Date.now()-f,u=Math.max(250-a,0);return setTimeout(function(){return h.flags.decr(t)},u)}),!0}αbusy(t){return this.αflag("busy",t)}αoutside(){let{handler:t}=this[C];if(t&&t[ts])return!t[ts].parentNode.contains(this.target)}async αpost(t,e={}){return await globalThis.fetch(t,{method:"POST",...e})}async αfetch(t,e={}){return await globalThis.fetch(t,e)}},$i=Si;(()=>{Yt(Si,"Event")})();yi(B.prototype,$i.prototype);function j(){return globalThis.imba.uses_events=!0,!0}var xi=class{constructor(t,e){this.params=t,this.closure=e}getHandlerForMethod(t,e){return t?t[e]?t:this.getHandlerForMethod(t.parentNode,e):null}abortCurrentHandlers(){var t;if(this.currentEvents)for(let e of di(this.currentEvents))e.aborted=!0,(t=e==null?void 0:e.resolver)==null||t.call(e,!0);return this}emit(t,...e){return U(this,t,e)}on(t,...e){return Ot(this,t,...e)}once(t,...e){return G(this,t,...e)}un(t,...e){return te(this,t,...e)}get passiveΦ(){return this.params.passive}get captureΦ(){return this.params.capture}get silentΦ(){return this.params.silent}get globalΦ(){return this.params.global}async handleEvent(t){let e=this[eo]||t.currentTarget,i=this.params,s=null,n=i.silence||i.silent;this.count||(this.count=0),this.state||(this.state={});let o={element:e,event:t,modifiers:i,handler:this,id:++this.count,step:-1,state:this.state,commit:null,current:null,aborted:!1};if(o.current=o,t.handle$mod&&t.handle$mod.apply(o,i.options||[])==!1)return;let l=B[this.type+"$handle"]||B[t.type+"$handle"]||t.handle$mod||this.guard;if(!(l&&l.apply(o,i.options||[])==!1)){this.currentEvents||(this.currentEvents=new Set),this.currentEvents.add(o);for(let h=0,f=Object.keys(i),a=f.length,u,d;h<a&&(u=f[h],d=i[u],!o.aborted);h++){if(o.step++,u[0]=="_")continue;u.indexOf("~")>0&&(u=u.split("~")[0]);let y=null,p=[t,o],m,c=null,S,x=!1,T=typeof u=="string";if(u[0]=="$"&&u[1]=="_"&&d[0]instanceof Function)u=d[0],u.passive||(o.commit=!0),p=[t,o].concat(d.slice(1)),c=e;else if(d instanceof Array){p=d.slice(),y=p;for(let $=0,_=di(p),w=_.length;$<w;$++){let F=_[$];if(typeof F=="string"&&F[0]=="~"&&F[1]=="$"){let ot=F.slice(2).split("."),lt=o[ot.shift()]||t;for(let Tt=0,Ai=di(ot),Hs=Ai.length;Tt<Hs;Tt++){let Us=Ai[Tt];lt=lt?lt[Us]:void 0}p[$]=lt}}}if(typeof u=="string"&&(S=u.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/))&&(y||(y=p=[]),p.unshift(S[2]),u=S[1]),u=="trap")t[es]=!0,t.stopImmediatePropagation(),t[is]=!0,t.preventDefault();else if(u=="stop")t[es]=!0,t.stopImmediatePropagation();else if(u=="prevent")t[is]=!0,t.preventDefault();else if(u=="commit")o.commit=!0;else if(u=="once")e.removeEventListener(t.type,this);else{if(u=="options"||u=="silence"||u=="silent")continue;if(u=="emit"){let $=p[0],_=p[1],w=new $t($,{bubbles:!0,detail:_});w.originalEvent=t;let Zt=(this[io]||e).dispatchEvent(w)}else if(typeof u=="string"){u[0]=="!"&&(x=!0,u=u.slice(1));let $="α"+u,_=t[$];_||(_=this.type&&B[this.type+"$"+u+"$mod"]),_||(_=t[u+"$mod"]||B[t.type+"$"+u]||B[u+"$mod"]),_ instanceof Function?(u=_,c=o,p=y||[],t[$]&&(c=t,t[C]=o)):u[0]=="_"?(u=u.slice(1),c=this.closure):c=this.getHandlerForMethod(e,u)}}try{u instanceof Function?m=u.apply(c||e,p):c&&(m=c[u].apply(c,p)),m&&m.then instanceof Function&&m!=v.$promise&&(o.commit&&!n&&v.commit(),m=await m)}catch($){s=$;break}if(x&&m===!0||!x&&m===!1)break;o.value=m}if(U(o,"end",o),o.commit&&!n&&v.commit(),this.currentEvents.delete(o),this.currentEvents.size==0&&this.emit("idle"),s!=null){if(this.type!="error"){let h=s instanceof Error?s.message:s,f=new $t("error",{detail:h,bubbles:!0,cancelable:!0});f.error=s,f.originalEvent=t;let a=e.dispatchEvent(f);if(f.defaultPrevented)return}throw s}return o}}},_i=xi;(()=>{Yt(xi,"EventHandler")})();var vi=class{on$(t,e,i){let s="on$"+t,n;n=new _i(e,i);let o=e.capture||!1,l=e.passive,h=o;return l&&(h={passive:l,capture:o}),this[s]instanceof Function?n=this[s](e,i,n,h):this.addEventListener(t,n,h),n}on$error(t,e,i,s){var n;return(n=t.options)!=null&&n.length&&(i.guard=function(...o){let l=this.event.error;return!!o.find(function(f){return l instanceof f})}),this.addEventListener("error",i,s),i}},bi=vi;(()=>{Yt(vi,"Element")})();yi(N.prototype,bi.prototype);var Ni=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((t,e)=>(e&=63,e<36?t+=e.toString(36):e<62?t+=(e-26).toString(36).toUpperCase():e>62?t+="-":t+="_",t),"");function ro(r){let t;return r&&((t=r.toIterable)?t.call(r):r)}function so(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}st(),j();var rs=Symbol.for("#__init__"),no=Symbol.for("#__patch__"),oo=Symbol.for("#beforeReconcile"),lo=Symbol.for("##up"),ss=Symbol.for("#afterVisit"),ho=Symbol.for("#afterReconcile"),ns=Symbol(),os=Symbol(),ls=Symbol(),hs=Symbol(),us=Symbol(),as=Symbol(),Ti=class extends P{[no](t={},e=!0){var i;(i=t.habits)!==void 0&&(this.habits=i)}[rs](t=null,e=!0,i=!0){var s;super[rs](...arguments),this.habits=t&&(s=t.habits)!==void 0?s:[]}deleteItem(t){return this.habits.splice(t,1)}render(){var t=this,e,i,s,n=this._ns_||"",o,l,h,f,a,u,d,y,p,m;e=this,e[oo](),i=s=1,e[ns]===1||(i=s=0,e[ns]=1),(o=e[os])||(e[os]=o=b("div",e,`group ${n}`,null)),(l=e[ls])||(e[ls]=l=Qr(384,o)),h=0,f=l.$;for(let c=0,S=ro(this.habits),x=S.length;c<x;c++){let T=S[c];u=y=1,(a=f.get(d=T.id))||(u=y=0,f.set(d,a=tt("habit-item",null,`${n}`,null))),u||(a[lo]=l),p=a[hs]||(a[hs]=a.bind$("name",[null,"name"])),p[0]=T,p=a[us]||(a[us]=a.bind$("done",[null,"done"])),p[0]=T,m=a[as]||(a[as]={$_:[function($,_,w){return t.deleteItem(w)},null]}),m.$_[1]=c,u||a.on$("deleteItem",m,this),u||!a.setup||a.setup(y),a[ss](y),l.push(a,h++,d)}return l[ss](h),e[ho](s),e}},Ci=Ti;(()=>{so(Ti,"habit-group")})();M("habit-group",Ci,{cssns:"cy_af"});function uo(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}st(),j(),nt();var fs=Symbol.for("#__init__"),ao=Symbol.for("#__patch__"),fo=Symbol.for("#beforeReconcile"),cs=Symbol.for("##up"),wi=Symbol.for("#afterVisit"),Oi=Symbol.for("#placeChild"),co=Symbol.for("#afterReconcile"),ds=Symbol(),ms=Symbol();var Ei=Symbol(),ps=Symbol(),$s=Symbol(),_s=Symbol();var Fi=Symbol(),bs=Symbol(),ys=Symbol(),gs=Symbol(),Ss=Symbol(),xs=Symbol(),vs=Symbol(),Ns=Symbol(),Cs=Symbol(),ki=class extends P{[ao](t={},e=!0){var i;(i=t.name)!==void 0&&(this.name=i),(i=t.done)!==void 0&&(this.done=i),(i=t.editing)!==void 0&&(this.editing=i)}[fs](t=null,e=!0,i=!0){var s;super[fs](...arguments),this.name=t&&(s=t.name)!==void 0?s:"Untitled",this.done=t&&(s=t.done)!==void 0?s:!1,this.editing=t&&(s=t.editing)!==void 0?s:!1}render(){var t=this,e,i,s,n,o,l=this._ns_||"",h,f,a,u,d,y,p,m,c,S,x,T,$,_,w,F,Zt,ot;return s=this,s[fo](),n=o=1,s[ds]===1||(n=o=0,s[ds]=1),e=null,this.editing?(h=f=1,(e=s[ms])||(h=f=0,s[ms]=e=b("div",null,`item ${l}`,null)),h||(e[cs]=s),a=this.done||void 0,a===e[Ei]||(f|=2,e[Ei]=a),f&2&&e.flag$(`item ${l} `+(e[Ei]?"done":"")),d=y=1,(u=e[ps])||(d=y=0,e[ps]=u=b("input",e,`${l}`,null)),d||(u.type="text"),p=e[$s]||(e[$s]=u.bind$("data",[this,"name"])),d||!u.setup||u.setup(y),u[wi](y)):(m=c=1,(e=s[_s])||(m=c=0,s[_s]=e=b("button",null,`item ${l}`,null)),m||(e[cs]=s),S=this.done||void 0,S===e[Fi]||(c|=2,e[Fi]=S),S=e[bs]||(e[bs]=e.bind$("data",[this,"done"])),c&2&&e.flag$(`item ${l} `+(e[Fi]?"done":"")),(x=e[ys])||(e[ys]=x=b("div",e,`${l}`,null)),T=this.name,T===e[Ss]&&m||(e[gs]=x[Oi](e[Ss]=T,384,e[gs])),m||!e.setup||e.setup(c),e[wi](c)),s[xs]=s[Oi](e,0,s[xs]),n||($=b("div",s,`actions ${l}`,null)),w=F=1,(_=s[vs])||(w=F=0,s[vs]=_=b("button",$,`edit ${l}`,null)),Zt=s[Ns]||(s[Ns]=_.bind$("data",[this,"editing"])),i=null,this.editing?i="Done":i="Edit",s[Cs]=_[Oi](i,0,s[Cs]),w||!_.setup||_.setup(F),_[wi](F),n||(ot=b("button",$,`${l}`,"Delete")),n||ot.on$("click",{$_:[function(lt,Tt){return t.emit("deleteItem")}]},this),s[co](o),s}},Pi=ki;(()=>{uo(ki,"habit-item")})();M("habit-item",Pi,{cssns:"cx_af"});function mo(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}j(),st();var Ts=Symbol.for("#__init__"),po=Symbol.for("#__patch__"),$o=Symbol.for("#beforeReconcile"),_o=Symbol.for("#afterVisit"),bo=Symbol.for("#afterReconcile"),ws=Symbol(),Os=Symbol(),Es=Symbol(),Ii=class extends P{[po](t={},e=!0){var i;(i=t.name)!==void 0&&(this.name=i)}[Ts](t=null,e=!0,i=!0){var s;super[Ts](...arguments),this.name=t&&(s=t.name)!==void 0?s:""}handleSubmit(){return this.emit("habitAdded",this.name),this.name=""}render(){var t=this,e,i,s,n=this._ns_||"",o,l,h,f,a,u,d,y,p;return e=this,e[$o](),i=s=1,e[ws]===1||(i=s=0,e[ws]=1),i||(o=b("header",e,`${n}`,"Add Habit")),i||(l=b("section",e,`${n}`,null)),i||(h=b("form",l,`${n}`,null)),i||h.on$("submit",{prevent:!0,$_:[function(m,c){return t.handleSubmit(m)}]},this),i||(f=b("div",h,`${n}`,null)),u=d=1,(a=e[Os])||(u=d=0,e[Os]=a=b("input",f,`${n}`,null)),u||(a.type="text"),y=e[Es]||(e[Es]=a.bind$("data",[this,"name"])),u||(a.placeholder="Habit Name"),u||!a.setup||a.setup(d),a[_o](d),i||(p=b("button",h,`${n}`,"Add")),i||(p.type="submit"),e[bo](s),e}},Ri=Ii;(()=>{mo(Ii,"habit-adder")})();M("habit-adder",Ri,{cssns:"cz_af",cssid:"cz-af"});function Fs(r){let t;return r&&((t=r.toIterable)?t.call(r):r)}function yo(r,t){Object.defineProperty(r,"name",{value:t,configurable:!0})}j(),nt();var Ps=Symbol.for("#__init__"),go=Symbol.for("#__patch__"),So=Symbol.for("#beforeReconcile"),Di=Symbol.for("#afterVisit"),ks=Symbol.for("#appendChild"),xo=Symbol.for("#afterReconcile"),vo=Symbol.for("##up"),Rs=Symbol(),Is=Symbol(),Ds=Symbol(),Ms=Symbol(),Vs=Symbol(),As=Symbol(),Ls=Symbol(),H,Ct=sr(),js=Symbol(),Xt,Jt,Vi=class extends P{[go](t={},e=!0){var i;(i=t.habits)!==void 0&&(this.habits=i)}[Ps](t=null,e=!0,i=!0){var s;super[Ps](...arguments),this.habits=t&&(s=t.habits)!==void 0?s:[{name:"Clean Up",done:!0,id:Ni()}]}completeAll(){var t;t=[];for(let e=0,i=Fs(this.habits),s=i.length;e<s;e++){let n=i[e];t.push(n.done=!0)}return t}resetAll(){var t;t=[];for(let e=0,i=Fs(this.habits),s=i.length;e<s;e++){let n=i[e];t.push(n.done=!1)}return t}handleHabitAdded(t){let e={name:t.detail,done:!1,id:Ni()};return this.habits.push(e)}render(){var t=this,e,i,s,n=this._ns_||"",o,l,h,f,a,u,d,y,p,m,c,S,x,T;return e=this,e[So](),i=s=1,e[Rs]===1||(i=s=0,e[Rs]=1),l=h=1,(o=e[Is])||(l=h=0,e[Is]=o=tt("habit-group",e,`${n}`,null)),f=this.habits,f===e[Ds]||(o.habits=e[Ds]=f),l||!o.setup||o.setup(h),o[Di](h),l||e[ks](o),i||(a=b("div",e,`controls ${n}`,null)),i||(u=b("button",a,`${n}`,"Complete All")),i||u.on$("click",{$_:[function($,_){return t.completeAll($)}]},this),y=p=1,(d=e[Ms])||(y=p=0,e[Ms]=d=b("button",a,`${n}`,"Reset All")),m=e[Vs]||(e[Vs]={$_:[function($,_,w){return t.resetAll($)},null]}),m.$_[1]=t,y||d.on$("click",m,this),S=x=1,(c=e[As])||(S=x=0,e[As]=c=tt("habit-adder",e,`${n}`,null)),T=e[Ls]||(e[Ls]={$_:[function($,_,w){return t.handleHabitAdded($)},null]}),T.$_[1]=t,S||c.on$("habitAdded",T,this),S||!c.setup||c.setup(x),c[Di](x),S||e[ks](c),e[xo](s),e}},Mi=Vi;(()=>{yo(Vi,"dopamine-box")})();M("dopamine-box",Mi,{cssns:"cw_af"});Ke((Xt=Jt=1,(H=Ct[js])||(Xt=Jt=0,H=Ct[js]=H=tt("dopamine-box",null,null,null)),Xt||(H[vo]=Ct._),Xt||Ct.sym||!H.setup||H.setup(Jt),Ct.sym||H[Di](Jt),H));
//__FOOT__
